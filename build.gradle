/* groovylint-disable CompileStatic, DuplicateNumberLiteral, DuplicateStringLiteral, MethodReturnTypeRequired */
/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */
wrapper {
    gradleVersion = 6.7
}

allprojects {
    group = 'org.java.cuong.exp'
    version = '1.0-SNAPSHOT'
    apply from: "$rootProject.projectDir/buildConfiguration/commonConfiguration.gradle"
    repositories {
        jcenter()
        mavenCentral()
    }
}
def javaSubProjects() {
    subprojects.findAll { project -> project != project.project(':platform') }
}
configure(javaSubProjects()) {
    apply plugin: 'java-library'
    apply plugin: 'groovy'
    sourceCompatibility = 11
    targetCompatibility = 11
    dependencies {
        api platform(project(':platform'))
        compileOnly 'org.projectlombok:lombok'
        annotationProcessor 'org.projectlombok:lombok:1.18.12'

        testCompileOnly 'org.projectlombok:lombok'
        testAnnotationProcessor 'org.projectlombok:lombok:1.18.12'
        compileOnly 'org.slf4j:slf4j-api'
        runtimeOnly 'org.slf4j:slf4j-log4j12'

        testImplementation configurations.testFramework
    }
    test {
        afterTest { desc, result ->
            def executionTime = result.endTime - result.startTime
            println "Executing test ${desc.name} [${desc.className}] with result: ${result.resultType} in ${executionTime} ms"
        }
    }
}
